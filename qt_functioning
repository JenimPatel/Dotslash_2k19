from qt import *
import sys
from PyQt5.QtWidgets import QApplication, QWidget, QInputDialog, QLineEdit, QFileDialog
from PyQt5 import QtWidgets
from summarizer import *
import requests
from scan import *
from ocr import *

class FirstApp(Ui_MainWindow):
    def select_files(directory_location=None):
        qtapp = QApplication([directory_location])
        qtwgt = QtWidgets.QWidget()
        filenames, _ = QFileDialog.getOpenFileNames(qtwgt)
        return filenames

    def __init__(self, window):
        self.setupUi(window)
        self.pushButton.clicked.connect(self.clickMe)
        self.pushButton3.clicked.connect(self.clickMe3)

    def clickMe(self):
        filenames = self.select_files()
        print("You selected:\n", "\n".join(filename for filename in filenames))
        # scanning(filenames)
        ocr_run(filenames)
    def clickMe3(self):
        inp = self.textEdit.toPlainText()
        f= open("summ_file1.txt","w+")
        f.write(inp)
        f= open("summ_file.txt","w+")
        f.write(inp)
        temp = inp
        summ()

app =QtWidgets.QApplication(sys.argv)
MainWindow = QtWidgets.QMainWindow()

ui = FirstApp(MainWindow)

MainWindow.show()
app.exec_()
